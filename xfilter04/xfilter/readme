# =========================================================================== #
# NG CMS // Плагины // Фильтр новостей                                        #
# =========================================================================== #

Плагин позволяет установить на сайте фильтр новостей по категориям и дополнительным полям xfields
Он может пригодиться для создания каталогов, интернет-магазинов и т. п.

Краткое руководство:

1. Перед включением обязательно установите и включите плагин xfields, создайте дополнительные поля.
ВАЖНО: для работы плагина в настройках xfields выбирайте Режим сохранения данных: Персональное поле в БД.

2. Плагин расчитан пока только на тип поля input и select, для полей типа input создается выборка 
(SQL-запрос из таблицы news) всех возможных значений и отображается в виде выпадающего списка

3. Для отображения формы фильтра на сайте разместите переменную {xfilter} в шаблоне main.tpl

4. В шаблоне плагина xfilter_form.tpl доступны переменные вида {{ xfields_имя_дополнительного_поля }}  

5. Также в шаблоне плагина доступна переменная {{ catlist }} для фильтра новостей по категориям

Дополнительно можно настроить:

- категории, которые следует скрывать. Указанные категории не будут отображаться в списке,
формируемом переменной {{ catlist }}. Кроме того, новости из этих категорий не будут отображаться 
в случае выбора пользователем значения "- все -"

- возможность выбора из всех категорий (в списке категорий будет значение "- все -")

- порядок вывода новостей и их количество на странице 

- расположение шаблона (шаблон сайта / шаблон плагина)

Код создан в основном путем копипаста из search.php и xfields.php
Замечания и пожелания всячески приветствуются :)

(с) nevermind, 2012 - версия 0.01

(с) Zemlemer, 2013-2015 - версия 0.02 и последующие

Благодарности: 
Wolverine - за помощь, в частности, за подсказку о функции news_showlist.

 

