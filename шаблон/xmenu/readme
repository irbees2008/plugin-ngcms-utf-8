# =========================================================================== #
# NG CMS // –ü–ª–∞–≥–∏–Ω—ã // –ê—Ä—Ö–∏–≤ —Å–∞–π—Ç–∞                                            #
# =========================================================================== #

# –ü–ª–∞–≥–∏–Ω XMenu –¥–ª—è NG-CMS

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü–ª–∞–≥–∏–Ω XMenu –¥–ª—è NG-CMS (TWIG only)
1. –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
–ü–ª–∞–≥–∏–Ω XMenu –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–µ–Ω—é –Ω–∞ —Å–∞–π—Ç–µ —á–µ—Ä–µ–∑ TWIG-—à–∞–±–ª–æ–Ω—ã.
–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 9 –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –º–µ–Ω—é

–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ–Ω—é

–ü–æ–∫–∞–∑ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞
–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–∞–ø–∫—É –ø–ª–∞–≥–∏–Ω–∞ –≤ /engine/plugins/

–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü–ª–∞–≥–∏–Ω—ã ‚Üí XMenu ‚Üí –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–≤—è–∑–∫—É –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫ –º–µ–Ω—é:
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí XMenu ‚Üí –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–≥–∏–Ω–∞
–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí XMenu:

–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
–ü—Ä–∏–≤—è–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

# ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –º–µ–Ω—é

_ ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å–∫—Ä—ã—Ç–∞

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
–ù–∞—Å—Ç—Ä–æ–π–∫–∞	–û–ø–∏—Å–∞–Ω–∏–µ	–ó–Ω–∞—á–µ–Ω–∏—è
–ò—Å—Ç–æ—á–Ω–∏–∫ —à–∞–±–ª–æ–Ω–æ–≤	–û—Ç–∫—É–¥–∞ –∑–∞–≥—Ä—É–∂–∞—Ç—å TWIG-—à–∞–±–ª–æ–Ω—ã	0 ‚Äì –®–∞–±–ª–æ–Ω —Å–∞–π—Ç–∞
1 ‚Äì –ü–ª–∞–≥–∏–Ω
–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ	–£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é	1 ‚Äì –í–∫–ª—é—á–µ–Ω–æ
0 ‚Äì –í—ã–∫–ª—é—á–µ–Ω–æ
–í—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫–µ—à–∞	–ß–µ—Ä–µ–∑ —Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–µ—à	–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 3600 (1 —á–∞—Å)
4. –í—ã–≤–æ–¥ –º–µ–Ω—é –≤ —à–∞–±–ª–æ–Ω–µ
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TWIG-—Ñ—É–Ω–∫—Ü–∏—é callPlugin():

twig
{{ callPlugin('xmenu.show', {
    menu_id: 1,             // ID –º–µ–Ω—é (1-9)
    template: 'custom_menu', // –ò–º—è —à–∞–±–ª–æ–Ω–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
    show_news: 1,           // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª-–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π (1/0)
    debug: 0                // –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (1/0)
}) }}
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
–ü–∞—Ä–∞–º–µ—Ç—Ä	–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π?	–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é	–û–ø–∏—Å–∞–Ω–∏–µ
menu_id	–î–∞	‚Äî	–ù–æ–º–µ—Ä –º–µ–Ω—é (1-9)
template	–ù–µ—Ç	xmenu	–ò–º—è TWIG-—à–∞–±–ª–æ–Ω–∞
show_news	–ù–µ—Ç	1	–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª-–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π (1 ‚Äì –¥–∞, 0 ‚Äì –Ω–µ—Ç)
debug	–ù–µ—Ç	0	–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (1 ‚Äì –≤–∫–ª—é—á–∏—Ç—å)
5. –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã
–ü–ª–∞–≥–∏–Ω –∏—â–µ—Ç —à–∞–±–ª–æ–Ω—ã –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):

–®–∞–±–ª–æ–Ω —Å–∞–π—Ç–∞: /templates/–í–ê–®_–®–ê–ë–õ–û–ù/plugins/xmenu/

–ü–ª–∞–≥–∏–Ω: /engine/plugins/xmenu/tpl/

–î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã:
xmenu.tpl ‚Äì —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —à–∞–±–ª–æ–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —à–∞–±–ª–æ–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä: custom_menu.tpl

6. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ TWIG-—à–∞–±–ª–æ–Ω–µ
–í–Ω—É—Ç—Ä–∏ —à–∞–±–ª–æ–Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è	–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
items	array	–ú–∞—Å—Å–∏–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –º–µ–Ω—é
items[].id	int	ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
items[].name	string	–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
items[].url	string	–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
items[].active	bool	–ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è (true/false)
items[].news_count	int	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
menu_id	int	ID —Ç–µ–∫—É—â–µ–≥–æ –º–µ–Ω—é
show_news	bool	–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∫–æ–ª-–≤–æ –Ω–æ–≤–æ—Å—Ç–µ–π
tpl_url	string	–ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —à–∞–±–ª–æ–Ω–∞–º–∏
7. –ü—Ä–∏–º–µ—Ä TWIG-—à–∞–±–ª–æ–Ω–∞ (xmenu.tpl)
twig
<ul class="xmenu menu-{{ menu_id }}">
    {% for item in items %}
        <li class="{{ item.active ? 'active' : '' }}">
            <a href="{{ item.url }}">{{ item.name }}</a>
            {% if show_news and item.news_count > 0 %}
                <span class="news-count">({{ item.news_count }})</span>
            {% endif %}
        </li>
    {% endfor %}
</ul>
–ò—Ç–æ–≥
–¢–æ–ª—å–∫–æ TWIG ‚Äì –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞.

–ì–∏–±–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏.

–ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã –ø–æ–¥ –ª—é–±–æ–π –¥–∏–∑–∞–π–Ω.

–ü–ª–∞–≥–∏–Ω –∏–¥–µ–∞–ª–µ–Ω –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TWIG –∏ —Ö–æ—á–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –º–µ–Ω—é. üöÄ