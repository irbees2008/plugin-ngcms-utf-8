# =========================================================================== #
# NG CMS // Плагины // QRcode			                                      #
# =========================================================================== #

Описание плагина:
--------------------------------------------------------------------
Данный плагин генерирует QRcode.

Структура плагина:

text
/qrcode/
├── phpqrcode/
│   ├── qrlib.php
│   ├── qrconst.php
│   └── ... (остальные файлы библиотеки)
├── tpl/
│   └── qrcode.tpl
├── config.php
└── qrcode.php
============================================================
Особенности реализации:
Библиотека подключается напрямую из папки плагина
Приоритетный рендеринг через TWIG с fallback на старую систему
Base64 кодирование для встраивания изображения без файлов
Гибкие настройки размера и отступов
Поддержка ручного вызова через {{ callPlugin('qrcode.show', {news_id: X}) }}
Полностью локальная работа без внешних запросов
===========================================================================
Ключевые особенности:
Полностью сохранена логика вашего оригинального конфига
Добавлена поддержка уровней коррекции ошибок (L/M/Q/H)
Реализованы оба варианта работы:
Генерация base64-изображения
Загрузка на сервер (если включена опция upload)
Сохранена функция очистки неиспользуемых QR-кодов
Поддержка TWIG с fallback на старую систему шаблонов
Кеширование результатов генерации

=============================================================
Для использования в шаблоне новости:

{% if pluginIsActive('qrcode') %}
    {{ plugin_qrcode }}
{% endif %}
или 
{% if pluginIsActive('qrcode') %}
    {{ callPlugin('qrcode.show', {news_id: news.id}) }}
{% endif %}